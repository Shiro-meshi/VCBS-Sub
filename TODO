/*
此文件为主架构问题
有想法请在下面接上，不要删除其他人所作的回答，删除统一由芙兰(hanyuwei70@qq.com)执行
*/
1.MVC架构下搜索应该怎么做
个人想法是做和别的 action 一样，做一个 action=Search --ParadiseDS
    就是搜索的实现啊，在数据库里找什么，怎么找，我现在都没有太好的思路 --fulan
        {
        1. 首先我觉得，MVC架构里，C负责的是数据的解析和传输，而不是处理，处理应该是M干的活，不该由C本身完成处理工作，果然还是觉得应该在bangumi model里面做。
        2. 搜索的时候，我考虑的一个部分是如何有效地使用MySQL索引，减少资源的占用，现在来看id和name都需要建立索引，但是LIKE子句对于前缀以外的查询都无法使用索引，由此得出的大体思路（搜索番剧名称->返回番剧id）：
          a. 首先关键词处理，干掉多余的空白字符和其他不合法字符以及安全相关处理。
          b. 先做精确搜索，有结果最好，先存下来。
          c. 就我搜索番剧的习惯，很多情况时我都是记得开头的字段，或搜索时从头开始没输入完整，第二部分使用 LIKE 'WORD%' 模式匹配，也存下来。
          d. 接下来就是放在结尾搜索，相互要对于 LIKE '%WORD' 模式的匹配可以把表内容和关键字都做 reverse 变成上一种情况，应该是可以利用索引的，也存下来。
          以上应该可以返回一部分结果了，判断一下有多少结果，满足一定数额就把这部分结果先丢出来，最下面显示“更多”链接，如果用户点击更多，那就做全表遍历了。。我觉得很大部分人应该在前面的结果里能找到理想匹配（大概。。
          恩对了，如果搜索字段里带有空格，先判断是不是全英文/罗马音的字段搜索，不是的话应该就是多关键词匹配了，恩这里还需要想想。。我之前看到的情况是设定关键词上限后，设定AND/OR模式，把关键词提取出来扔在一个LIKE子句里，形如 'LIKE A OR LIKE B OR LIKE C...'，做查询，不知道是分开重复上面的 abcd 还是一次大查询性价比高。

        不过上面是在现有的名称数据库结构下考虑的结果，能不能在添加的时候就提取某些关键词，或者tag的形式，给搜索使用，减少全表遍历的概率，我暂时也没想到好的实现。
        初学，轻拍 }    --ParadiseDS

2.数据库里各项权限代码定义放在哪里
个人认为放在config.php或者php某个常量文件里面 --fulan
放在User_Model里，因为权限系统属于用户抽象 --fulan

3.错误处理逻辑

----
以下是现在不明确的问题：

1. 字幕文件的操作是否要放在 addsub 中完成，文件存放的路径格式？

2. 字幕状态的意义（至少给个初始状态码）

3. getsubid($name) 如果不是搜索用，有什么用么。。（同bangumi name）

4. 删除番剧名称时，只剩最后一条名称是不执行删除，需要考虑语种信息吗（即每个语种至少需要一个名称）
